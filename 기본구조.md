# **1.** 전주대학교 AI학과 공유카드 운영 구조 정리

## 1. 운영 목적

- 학과 학생들의 **식비 지원**을 위한 **공유 카드** 마련  
- 카드를 **팀 단위**로 나누어 사용

---

## 2. 팀 구성 방식

### (1) 과목별 팀 구성

- 한 학년에는 **4~6개의 공통 이수 과목** 존재
- 학년별 학생 수: **약 30명**
- 팀당 인원: **약 5명**
- 각 과목별로 **약 6개**의 팀 구성 가능

### (2) 팀 인원 중복

- 여러 과목을 커버해야 하므로 학생이 **여러 팀에 중복 소속**될 수 있음

---

## 3. 카드 사용 규칙

### (1) 사용 시간대

- 하루 3회 (아침 / 점심 / 저녁)
- 각 팀은 하루에 한번 이상 사용할 수 없음

### (2) 동시간대 사용 제한

- 한 시간대에 **너무 많은 팀(예: 6팀 이상)**이 동시에 사용 불가
- 시간대별 **사용 가능한 팀 수 제한** 존재

### (3) 팀 인원 중복 충돌

- 여러 팀이 같은 시간대에 신청할 경우  
- 동일 학생이 동시에 여러 팀에 포함될 수 있음  
- 이 경우 학생은 **어느 팀 소속으로 카드를 사용할지 선택**해야 함

---

## 4. 핵심 문제 구조 요약

### (1) 팀 인원 중복

- 학년 정원(30명), 팀당 인원(5명) → 과목당 6팀
- 공통 이수 과목(4~6개)의 수 x 과목당 팀 수 → 약 30팀 가량
- 제한된 인원으로 여러 과목을 커버해야 하므로 중복 소속 필연적

### (2) 시간대별 사용 제약

- 하루 1번만 사용 가능, 동시 사용 제한 존재
- 시간대는 아침/점심/저녁 중에서만 선택 가능


### (3) 중복 인원 충돌

- 같은 시간대에 여러 팀이 신청할 경우 학생이 선택해야 하는 문제 발생

---

# **2.** 카드 관리 시스템 기본 설계

## 1. 사용자 역할 및 권한 체계

시스템은 명확한 역할 기반 접근 제어를 통해 보안성과 사용성을 동시에 확보합니다.

**학생 팀 사용자**는 모바일 어플리케이션을 통해 카드 사용 신청, 예약 조회, 예약 취소 등의 기본적인 서비스를 이용할 수 있습니다. 각 팀은 고유한 식별자를 가지며, 팀원 정보는 시스템에 등록되어 사용자의 팀 식별 및 중복 사용을 방지하는 데 활용됩니다.

**관리자**는 웹 기반 관리 콘솔을 통해 시스템의 전반적인 운영을 담당합니다. 문서 입력을 통한 각 팀의 예산과 인원 정보 등록, 동시 사용 가능 팀 수 조절, 월별 정산 보고서 생성 및 분석, 시스템 사용 현황의 실시간 모니터링 등 포괄적인 관리 기능을 수행할 수 있습니다.

---

## 2. 학생 사용자 시스템: 모바일 어플리케이션 인터페이스

### 2.1 사용자 여정과 워크플로우 설계

학생들의 카드 사용 신청 과정은 직관적이고 단계적으로 설계되어 있습니다. 시스템은 직관적인 캘린더형 UI를 통해 사용자의 여정을 리드합니다.

- 첫 번째 단계에서는 캘린더를 이용해 사용 희망 날짜를 선택합니다. 캘린더의 각 날짜에는 작은 3개의 탭이 있어 각각 아침, 점심, 저녁 시간대의 신청 가능/불가 여부를 나타냅니다. 이는 사용 가능한 시간대만을 표시함으로써 사용자가 불필요한 시도를 하지 않도록 안내합니다. 

- 두 번째 단계에서는 카드 사용 시간대를 입력받습니다. 만일 3가지 시간대 모두 카드 사용 신청이 불가능한 상황일 경우 이에 대한 안내 문구를 표시합니다. 

- 세 번째 단계에서는 사용자가 현재 속해있는 팀 중 어느 팀에서 카드를 사용할 것인지를 입력받습니다. 네 번째 단계에서는 팀원 중복이나 시간대의 최대 사용 가능 팀 수를 초과하는 등의 문제가 발생하지 않았을 경우, 신청 완료 문구를 표시합니다. 만일 팀원 중복의 문제가 발생할 경우 중복되는 팀원의 명단을 표시하고 해당 팀원을 제외할 것인지 사용자에게 다시 묻습니다.

### 2.2 예약 관리 및 취소 기능

사용자는 언제든지 자신의 예약 현황을 조회할 수 있으며, 계획 변경 시 간편하게 예약을 취소할 수 있습니다. 이는 자원의 효율적 활용을 위해 매우 중요한 기능으로, 다른 팀들이 해당 시간대를 활용할 수 있는 기회를 제공합니다.

특히 시스템은 예약 시간 30분 전에 자동으로 사용 의사를 재확인하는 알림을 발송합니다. 사용자가 응답하지 않을 경우 예약이 자동으로 취소되어 다른 팀이 즉시 해당 시간대를 활용할 수 있도록 합니다. 이러한 자동화된 정책은 예약 후 미사용으로 인한 자원 낭비를 효과적으로 방지합니다.


## 3. 관리자 시스템: 웹 기반 관리 콘솔

### 3.1 통합 관리 대시보드

관리자 웹 인터페이스는 기존의 엑셀 기반 시스템이 가진 한계를 극복하고, 현대적이고 직관적인 사용자 경험을 제공합니다. 메인 대시보드는 시스템의 전반적인 상태를 한눈에 파악할 수 있도록 설계되어 있습니다.

대시보드의 상단에는 현재 사용 중인 카드 수, 오늘의 예약 현황, 월별 총 사용액, 그리고 예산 사용률과 같은 핵심 지표들이 시각적으로 표시됩니다. 중앙 영역에는 실시간 예약 현황을 보여주는 캘린더와 팀별 사용 현황을 나타내는 차트가 배치되어 있습니다. 하단에는 최근 거래 내역과 시스템 알림이 표시되어, 관리자가 중요한 변화나 이슈를 즉시 파악할 수 있습니다.

### 3.2 팀 관리 및 예산 설정 기능

팀 관리 모듈은 관리자가 각 팀의 정보와 예산을 체계적으로 관리할 수 있는 중앙 집중식 인터페이스를 제공합니다. 관리자는 새로운 팀을 등록하거나 기존 팀의 정보를 수정할 수 있으며, 각 팀에 대한 초기 예산 할당과 사용 기간을 설정할 수 있습니다.

특히 중요한 것은 동적 예산 조정 기능입니다. 학기 중 특별한 프로젝트나 상황이 발생할 경우, 관리자는 팀별 예산을 실시간으로 조정할 수 있습니다. 이때 시스템은 예산 변경이 다른 팀이나 전체 시스템에 미치는 영향을 시뮬레이션하여 보여주므로, 관리자가 더욱 신중하고 정보에 기반한 결정을 내릴 수 있도록 지원합니다.

### 3.3 동시 사용 팀 수 및 정책 관리

시스템의 가장 혁신적인 기능 중 하나는 동시 사용 가능한 팀 수를 관리자가 유연하게 조정할 수 있다는 것입니다. 관리자는 웹 콘솔의 시스템 설정 메뉴에서 동시 사용 팀 수를 1개에서 최대 10개까지 설정할 수 있습니다.

이 설정 변경은 즉시 시스템 전체에 반영되며, 현재 진행 중인 예약에는 영향을 주지 않으면서 새로운 신청부터 적용됩니다. 예를 들어, 특별한 행사 기간에는 동시 사용 팀 수를 8개로 늘려 더 많은 팀이 동시에 활동할 수 있도록 하고, 예산이 부족한 월말에는 이를 3개로 제한하여 자원을 보존할 수 있습니다.

### 4.4 사용 제한 및 정책 설정

관리자는 웹 인터페이스를 통해 카드 사용이 불가능한 날짜나 시간대를 유연하게 설정할 수 있습니다. 이는 단순히 공휴일을 지정하는 것을 넘어서, 학과 행사, 시험 기간, 시설 점검일 등 다양한 상황을 반영할 수 있는 포괄적인 정책 관리 도구입니다.

시스템은 정기적 제한과 일회성 제한을 모두 지원합니다. 정기적 제한은 매주 특정 요일이나 매월 특정 일자에 자동으로 적용되며, 일회성 제한은 특별한 상황에 대응하여 임시로 설정할 수 있습니다. 이러한 정책 설정은 학생들의 예약 신청 시 자동으로 반영되어, 불필요한 신청과 거절을 방지합니다.

## 5. 핵심 비즈니스 로직 및 시스템 규칙

### 5.1 확장된 예약 검증 시스템

시스템의 핵심 비즈니스 로직은 다층적 검증 구조를 통해 구현됩니다. 사용자가 예약을 신청하면, 시스템은 여러 단계의 검증을 순차적으로 수행합니다.

첫 번째 검증 단계에서는 시간적 제약을 확인합니다. 해당 날짜와 시간대에 이미 설정된 동시 사용 팀 수에 도달했는지, 그리고 해당 시간대가 관리자에 의해 사용 제한으로 설정되었는지를 확인합니다. 두 번째 단계에서는 팀 관련 제약을 검증합니다. 신청한 팀이 시스템에 등록된 유효한 팀인지, 팀원 중 누군가가 동일 시간대에 다른 예약을 가지고 있는지를 확인합니다.

### 5.2 실시간 데이터 동기화 및 충돌 방지

여러 사용자가 동시에 시스템에 접근할 때 발생할 수 있는 데이터 충돌을 방지하기 위해, 시스템은 실시간 데이터 동기화와 낙관적 동시성 제어를 구현합니다. 사용자가 특정 시간대를 조회할 때와 실제로 예약을 신청할 때 사이에 다른 사용자가 해당 시간대를 예약할 가능성을 고려하여, 최종 신청 시점에서 다시 한번 가용성을 확인합니다.

이러한 메커니즘은 "해당 시간대가 방금 다른 팀에 의해 예약되었습니다. 다른 시간대를 선택해주세요"와 같은 친화적인 메시지를 통해 사용자에게 상황을 명확히 전달합니다.

## 6. 시각화 및 사용자 경험 설계

### 6.1 직관적 캘린더 인터페이스

웹 기반 관리 콘솔의 핵심 기능 중 하나는 직관적인 캘린더 인터페이스입니다. 관리자는 월별, 주별, 일별 보기를 통해 카드 사용 현황을 한눈에 파악할 수 있습니다. 각 날짜별로 예약된 팀의 수가 색상의 농도로 표시되며, 특정 날짜를 클릭하면 해당일의 상세한 예약 내역을 볼 수 있습니다.

이 캘린더는 단순한 조회 도구를 넘어서 상호작용이 가능한 관리 도구로 설계되었습니다. 관리자는 캘린더에서 직접 특정 날짜를 사용 제한으로 설정하거나, 특별한 정책을 적용할 수 있습니다. 또한 드래그앤드롭 기능을 통해 예약을 다른 시간대로 이동시키는 것도 가능합니다.

## 9. 운영 정책 및 거버넌스

### 9.1 자동화된 정책 시행

시스템의 효율적 운영을 위해 다양한 자동화 정책이 구현됩니다. 예약 확인 알림은 사용 예정 시간 30분 전에 자동으로 발송되며, 응답이 없을 경우 예약이 자동 취소됩니다. 이는 자원의 효율적 활용을 위한 핵심적인 정책입니다.

### 9.2 유연한 예외 처리 메커니즘

자동화된 시스템이지만, 예외적인 상황에 대한 유연성도 확보되어 있습니다. 긴급한 상황에서는 관리자가 시스템의 자동 제약을 일시적으로 무시하고 특별 승인을 할 수 있습니다. 이러한 예외 처리는 모두 로그에 기록되어 추후 검토할 수 있습니다.

## 10. 시스템 확장성 및 미래 발전 방향

### 10.1 모듈식 아키텍처 설계

시스템은 미래의 확장 요구사항을 고려하여 모듈식 아키텍처로 설계됩니다. 핵심 예약 엔진, 사용자 관리 모듈, 결제 처리 모듈, 분석 엔진 등이 독립적으로 구성되어, 특정 기능을 업그레이드하거나 새로운 기능을 추가할 때 전체 시스템에 영향을 주지 않습니다.